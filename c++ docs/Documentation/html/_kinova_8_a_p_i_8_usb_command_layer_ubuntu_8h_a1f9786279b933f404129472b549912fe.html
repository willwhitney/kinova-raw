<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Kinova API Documentation: SetTorqueActuatorDamping</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kinova API Documentation
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_kinova_8_a_p_i_8_usb_command_layer_ubuntu_8h_a1f9786279b933f404129472b549912fe.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a class="anchor" id="a1f9786279b933f404129472b549912fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KINOVAAPIUSBCOMMANDLAYER_API int SetTorqueActuatorDamping </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Command</em>[COMMAND_SIZE]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the actuators damping gain. This can be used to stabilize the system in some situations. The values must be over or equal to zero and are typically within 0-2. The maximum allowed damping can be set with the function <a class="el" href="_kinova_8_a_p_i_8_usb_command_layer_ubuntu_8h_af8adb1db4e432dd8a8797cbe01da3a6a.html#af8adb1db4e432dd8a8797cbe01da3a6a" title="This functions sets the maximum damping. The parameters will reset to default values every time the r...">SetTorqueDampingMax()</a>. Default parameters can be found in the torque control documentation page under the section “Default parameters”. The parameters will reset to default values every time the robotic arm is rebooted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Command</td><td>The damping for each actuator.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;dlfcn.h&gt;</span> <span class="comment">//Ubuntu</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_kinova_types_8h.html">KinovaTypes.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_kinova_8_a_p_i_8_comm_layer_ubuntu_8h.html">Kinova.API.CommLayerUbuntu.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_kinova_8_a_p_i_8_usb_command_layer_ubuntu_8h.html">Kinova.API.UsbCommandLayerUbuntu.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div><div class="line"><span class="comment">//Note that under windows, you may/will have to perform other #include</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main()</div><div class="line">{</div><div class="line">        <span class="keywordtype">int</span> result;</div><div class="line"></div><div class="line">        <span class="keywordtype">int</span> programResult = 0;</div><div class="line"></div><div class="line">        <span class="comment">//Handle for the library&#39;s command layer.</span></div><div class="line">        <span class="keywordtype">void</span> * commandLayer_handle;</div><div class="line"></div><div class="line">        <span class="comment">//Function pointers to the functions we need</span></div><div class="line">        int(*MyInitAPI)();</div><div class="line">        int(*MyCloseAPI)();</div><div class="line">        int(*MyGetAngularCommand)(<a class="code" href="struct_angular_position.html">AngularPosition</a> &amp;);</div><div class="line">        int(*MyGetAngularPosition)(<a class="code" href="struct_angular_position.html">AngularPosition</a> &amp;);</div><div class="line">        int(*MyGetDevices)(KinovaDevice devices[MAX_KINOVA_DEVICE], <span class="keywordtype">int</span> &amp;result);</div><div class="line">        int(*MySetActiveDevice)(KinovaDevice device);</div><div class="line">        int(*MyGetActuatorAcceleration)(<a class="code" href="struct_angular_acceleration.html">AngularAcceleration</a> &amp;Response);</div><div class="line">        int(*MyGetAngularVelocity)(<a class="code" href="struct_angular_position.html">AngularPosition</a> &amp;Response);</div><div class="line">        int(*MyMoveHome)();</div><div class="line"></div><div class="line">        int(*MyRunGravityZEstimationSequence)(ROBOT_TYPE type, <span class="keywordtype">double</span> OptimalzParam[OPTIMAL_Z_PARAM_SIZE]);</div><div class="line">        int(*MySwitchTrajectoryTorque)(<a class="code" href="_kinova_types_8h_aea7f0c2e01a7ff1876b3199f5cb9b73d.html#aea7f0c2e01a7ff1876b3199f5cb9b73d">GENERALCONTROL_TYPE</a>);</div><div class="line">        int(*MySetTorqueSafetyFactor)(<span class="keywordtype">float</span> factor);</div><div class="line">        int(*MySendAngularTorqueCommand)(<span class="keywordtype">float</span> Command[COMMAND_SIZE]);</div><div class="line">        int(*MySendCartesianForceCommand)(<span class="keywordtype">float</span> Command[COMMAND_SIZE]);</div><div class="line">        int(*MySetGravityVector)(<span class="keywordtype">float</span> Command[3]);</div><div class="line"></div><div class="line">        int(*MySetGravityPayload)(<span class="keywordtype">float</span> Command[GRAVITY_PAYLOAD_SIZE]);</div><div class="line">        int(*MySetGravityOptimalZParam)(<span class="keywordtype">float</span> Command[GRAVITY_PARAM_SIZE]);</div><div class="line">        int(*MySetGravityType)(<a class="code" href="_kinova_types_8h_aaf07765039413869b6e88f228878585c.html#aaf07765039413869b6e88f228878585c">GRAVITY_TYPE</a> Type);</div><div class="line"></div><div class="line">        int(*MySetTorqueVibrationController)(<span class="keywordtype">float</span> value);</div><div class="line">        int(*MyGetAngularForceGravityFree)(<a class="code" href="struct_angular_position.html">AngularPosition</a> &amp;);</div><div class="line">        int(*MyGetCartesianForce)(<a class="code" href="struct_cartesian_position.html">CartesianPosition</a> &amp;);</div><div class="line">        int(*MySetTorqueControlType)(TORQUECONTROL_TYPE type);</div><div class="line">        int(*MySetTorqueActuatorDamping)(<span class="keywordtype">float</span> Command[COMMAND_SIZE]);</div><div class="line"></div><div class="line">        <span class="comment">//We load the library (Under Windows, use the function LoadLibrary)</span></div><div class="line">        commandLayer_handle = dlopen(<span class="stringliteral">&quot;Kinova.API.USBCommandLayerUbuntu.so&quot;</span>,RTLD_NOW|RTLD_GLOBAL);</div><div class="line"></div><div class="line">        MyInitAPI = (int(*)()) dlsym(commandLayer_handle, <span class="stringliteral">&quot;InitAPI&quot;</span>);</div><div class="line">        MyCloseAPI = (int(*)()) dlsym(commandLayer_handle, <span class="stringliteral">&quot;CloseAPI&quot;</span>);</div><div class="line">        MyGetAngularCommand = (int(*)(<a class="code" href="struct_angular_position.html">AngularPosition</a> &amp;)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;GetAngularCommand&quot;</span>);</div><div class="line">        MyGetAngularPosition = (int(*)(<a class="code" href="struct_angular_position.html">AngularPosition</a> &amp;)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;GetAngularPosition&quot;</span>);</div><div class="line">        MyGetDevices = (int(*)(KinovaDevice devices[MAX_KINOVA_DEVICE], <span class="keywordtype">int</span> &amp;result)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;GetDevices&quot;</span>);</div><div class="line">        MySetActiveDevice = (int(*)(KinovaDevice devices)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SetActiveDevice&quot;</span>);</div><div class="line">        MyGetActuatorAcceleration = (int(*)(<a class="code" href="struct_angular_acceleration.html">AngularAcceleration</a> &amp;)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;GetActuatorAcceleration&quot;</span>);</div><div class="line">        MyGetAngularVelocity = (int(*)(<a class="code" href="struct_angular_position.html">AngularPosition</a> &amp;)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;GetAngularVelocity&quot;</span>);</div><div class="line"></div><div class="line">        MyRunGravityZEstimationSequence = (int(*)(ROBOT_TYPE, <span class="keywordtype">double</span> OptimalzParam[OPTIMAL_Z_PARAM_SIZE])) dlsym(commandLayer_handle, <span class="stringliteral">&quot;RunGravityZEstimationSequence&quot;</span>);</div><div class="line">        MySwitchTrajectoryTorque = (int(*)(<a class="code" href="_kinova_types_8h_aea7f0c2e01a7ff1876b3199f5cb9b73d.html#aea7f0c2e01a7ff1876b3199f5cb9b73d">GENERALCONTROL_TYPE</a>)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SwitchTrajectoryTorque&quot;</span>);</div><div class="line">        MySetTorqueSafetyFactor = (int(*)(float)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SetTorqueSafetyFactor&quot;</span>);</div><div class="line">        MySendAngularTorqueCommand = (int(*)(<span class="keywordtype">float</span> Command[COMMAND_SIZE])) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SendAngularTorqueCommand&quot;</span>);</div><div class="line">        MySendCartesianForceCommand = (int(*)(<span class="keywordtype">float</span> Command[COMMAND_SIZE])) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SendCartesianForceCommand&quot;</span>);</div><div class="line">        MySetGravityVector = (int(*)(<span class="keywordtype">float</span> Command[3])) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SetGravityVector&quot;</span>);</div><div class="line">        MySetGravityPayload = (int(*)(<span class="keywordtype">float</span> Command[GRAVITY_PAYLOAD_SIZE])) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SetGravityPayload&quot;</span>);</div><div class="line">        MySetGravityOptimalZParam = (int(*)(<span class="keywordtype">float</span> Command[GRAVITY_PARAM_SIZE])) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SetGravityOptimalZParam&quot;</span>);</div><div class="line">        MySetGravityType = (int(*)(<a class="code" href="_kinova_types_8h_aaf07765039413869b6e88f228878585c.html#aaf07765039413869b6e88f228878585c">GRAVITY_TYPE</a> Type)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SetGravityType&quot;</span>);</div><div class="line">        MyGetAngularForceGravityFree = (int(*)(<a class="code" href="struct_angular_position.html">AngularPosition</a> &amp;)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;GetAngularForceGravityFree&quot;</span>);</div><div class="line">        MyGetCartesianForce = (int(*)(<a class="code" href="struct_cartesian_position.html">CartesianPosition</a> &amp;)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;GetCartesianForce&quot;</span>);</div><div class="line">        MySetTorqueVibrationController = (int(*)(float)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SetTorqueVibrationController&quot;</span>);</div><div class="line">        MySetTorqueControlType = (int(*)(TORQUECONTROL_TYPE)) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SetTorqueControlType&quot;</span>);</div><div class="line">        MyMoveHome = (int(*)()) dlsym(commandLayer_handle, <span class="stringliteral">&quot;MoveHome&quot;</span>);</div><div class="line">        MySetTorqueActuatorDamping = (int(*)(<span class="keywordtype">float</span> Command[COMMAND_SIZE])) dlsym(commandLayer_handle, <span class="stringliteral">&quot;SetTorqueActuatorDamping&quot;</span>);</div><div class="line"></div><div class="line">        <span class="comment">//Verify that all functions has been loaded correctly</span></div><div class="line">        <span class="keywordflow">if</span> ((MyInitAPI == NULL) || (MyCloseAPI == NULL) || (MyGetAngularCommand == NULL) || (MyGetAngularPosition == NULL)</div><div class="line">                || (MySetActiveDevice == NULL) || (MyGetDevices == NULL) || (MyGetAngularVelocity == NULL))</div><div class="line">        {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;* * *  E R R O R   D U R I N G   I N I T I A L I Z A T I O N  * * *&quot;</span> &lt;&lt; endl;</div><div class="line">                programResult = 0;</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;I N I T I A L I Z A T I O N   C O M P L E T E D&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div><div class="line"></div><div class="line">                result = (*MyInitAPI)();</div><div class="line"></div><div class="line">                <span class="keywordtype">int</span> resultComm;</div><div class="line">                <a class="code" href="struct_angular_position.html">AngularPosition</a> DataCommand;</div><div class="line"></div><div class="line">                <span class="comment">// Get the angular command to test the communication with the robot</span></div><div class="line">                resultComm = MyGetAngularCommand(DataCommand);</div><div class="line"></div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Initialization&#39;s result :&quot;</span> &lt;&lt; result &lt;&lt; endl;</div><div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Communication result :&quot;</span> &lt;&lt; resultComm &lt;&lt; endl;</div><div class="line"></div><div class="line">                <span class="comment">// If the API is initialized and the communication with the robot is working</span></div><div class="line">                <span class="keywordflow">if</span> (result == 1 &amp;&amp; resultComm == 1)</div><div class="line">                {</div><div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;API initialization worked&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;The robot will swich to torque control mode and move. Be cautious.&quot;</span> &lt;&lt; endl;</div><div class="line"></div><div class="line">                        <span class="comment">// Get the reference position</span></div><div class="line">                        <a class="code" href="struct_angular_position.html">AngularPosition</a> PositionReference;</div><div class="line">                        MyGetAngularPosition(PositionReference);</div><div class="line"></div><div class="line">                        <span class="comment">// Switch to torque control</span></div><div class="line">                        MySwitchTrajectoryTorque(<a class="code" href="_kinova_types_8h_aea7f0c2e01a7ff1876b3199f5cb9b73d.html#aea7f0c2e01a7ff1876b3199f5cb9b73dab14fe26ae2d673af2927fd2a8a1eb91f">TORQUE</a>);</div><div class="line"></div><div class="line">                        <span class="comment">// Set the safety factor to 0.6</span></div><div class="line">                        MySetTorqueSafetyFactor(0.6);</div><div class="line"></div><div class="line">                        <span class="comment">// Set the Vibration controller to 0.5</span></div><div class="line">                        MySetTorqueVibrationController(0.5);</div><div class="line"></div><div class="line">                        <span class="comment">// Set damping to 0.4</span></div><div class="line">                        <span class="keywordtype">float</span> ActuatorDamping[COMMAND_SIZE];</div><div class="line">                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; COMMAND_SIZE; i++)</div><div class="line">                        {</div><div class="line">                                ActuatorDamping[i] = 0;</div><div class="line">                        }</div><div class="line">                        ActuatorDamping[0] = 0.4;</div><div class="line">                        ActuatorDamping[1] = 0.4;</div><div class="line">                        ActuatorDamping[2] = 0.4;</div><div class="line">                        ActuatorDamping[3] = 0.4;</div><div class="line">                        ActuatorDamping[4] = 0.4;</div><div class="line">                        ActuatorDamping[5] = 0.4;</div><div class="line"></div><div class="line">                        MySetTorqueActuatorDamping(ActuatorDamping);</div><div class="line"></div><div class="line">                        <span class="comment">// Get the actual position</span></div><div class="line">                        <a class="code" href="struct_angular_position.html">AngularPosition</a> PositionActual;</div><div class="line"></div><div class="line">                        <span class="comment">// Initialize the torque command</span></div><div class="line">                        <span class="keywordtype">float</span> TorqueCommand[COMMAND_SIZE];</div><div class="line">                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; COMMAND_SIZE; i++)</div><div class="line">                        {</div><div class="line">                                TorqueCommand[i] = 0;</div><div class="line">                        }</div><div class="line"></div><div class="line">                        <span class="comment">// Set the stiffness to 0.5 (Caution: if the stiffness is high and damping is too low, the device may become unstable. Turn off the robot in case of any problem.)</span></div><div class="line">                        <span class="keywordtype">float</span> Stiffness = 0.5;</div><div class="line"></div><div class="line">                        <span class="comment">// Simulate the spring-damper system for 30 secondes</span></div><div class="line">                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3000; i++)</div><div class="line">                        {</div><div class="line"></div><div class="line">                                <span class="comment">// Get the actual position</span></div><div class="line">                                MyGetAngularPosition(PositionActual);</div><div class="line"></div><div class="line">                                <span class="comment">// Compute the torque to send to the robot (stiffness part. The damping part is sent directly through &quot;MySetTorqueActuatorDamping&quot;).</span></div><div class="line">                                TorqueCommand[0] = 0; TorqueCommand[1] = 0; TorqueCommand[2] = 0; TorqueCommand[3] = 0; TorqueCommand[4] = 0; TorqueCommand[5] = 0;</div><div class="line">                                TorqueCommand[0] = -Stiffness * ((PositionActual.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_aca5a235c354f49701dcf2b0281b3855a.html#aca5a235c354f49701dcf2b0281b3855a">Actuator1</a>) - (PositionReference.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_aca5a235c354f49701dcf2b0281b3855a.html#aca5a235c354f49701dcf2b0281b3855a">Actuator1</a>));</div><div class="line">                                TorqueCommand[1] = -Stiffness * ((PositionActual.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_a3f966c74eed6b4a834e651671babe213.html#a3f966c74eed6b4a834e651671babe213">Actuator2</a>) - (PositionReference.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_a3f966c74eed6b4a834e651671babe213.html#a3f966c74eed6b4a834e651671babe213">Actuator2</a>));</div><div class="line">                                TorqueCommand[2] = -Stiffness * ((PositionActual.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_ade20c24caa7b8ba25123fb0b2ec585f6.html#ade20c24caa7b8ba25123fb0b2ec585f6">Actuator3</a>) - (PositionReference.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_ade20c24caa7b8ba25123fb0b2ec585f6.html#ade20c24caa7b8ba25123fb0b2ec585f6">Actuator3</a>));</div><div class="line">                                TorqueCommand[3] = -Stiffness * ((PositionActual.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_aa1b19c8025e0b422e64999aa07b60ea0.html#aa1b19c8025e0b422e64999aa07b60ea0">Actuator4</a>) - (PositionReference.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_aa1b19c8025e0b422e64999aa07b60ea0.html#aa1b19c8025e0b422e64999aa07b60ea0">Actuator4</a>));</div><div class="line">                                TorqueCommand[4] = -Stiffness * ((PositionActual.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_a0d7fe69010d46fb422776a0ff04878b5.html#a0d7fe69010d46fb422776a0ff04878b5">Actuator5</a>) - (PositionReference.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_a0d7fe69010d46fb422776a0ff04878b5.html#a0d7fe69010d46fb422776a0ff04878b5">Actuator5</a>));</div><div class="line">                                TorqueCommand[5] = -Stiffness * ((PositionActual.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_a40a4d6bb415d11284e12dce7bd23c7ce.html#a40a4d6bb415d11284e12dce7bd23c7ce">Actuator6</a>) - (PositionReference.<a class="code" href="struct_angular_position.html#ac1dd69da3574317f28b0a0629af9a923">Actuators</a>.<a class="code" href="struct_angular_info_a40a4d6bb415d11284e12dce7bd23c7ce.html#a40a4d6bb415d11284e12dce7bd23c7ce">Actuator6</a>));</div><div class="line"></div><div class="line"></div><div class="line">                                <span class="comment">// Send the torque command</span></div><div class="line">                                MySendAngularTorqueCommand(TorqueCommand);</div><div class="line"></div><div class="line">                                <span class="comment">// Wait 10 ms</span></div><div class="line">                                usleep(10000);</div><div class="line"></div><div class="line">                        }</div><div class="line"></div><div class="line"></div><div class="line">                        <span class="comment">// Switch back to position control</span></div><div class="line">                        MySwitchTrajectoryTorque(<a class="code" href="_kinova_types_8h_aea7f0c2e01a7ff1876b3199f5cb9b73d.html#aea7f0c2e01a7ff1876b3199f5cb9b73dad34d5395053a1781444508e570283be1">POSITION</a>);</div><div class="line"></div><div class="line">                        <span class="comment">// Set the damping back to zero</span></div><div class="line">                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; COMMAND_SIZE; i++)</div><div class="line">                        {</div><div class="line">                                ActuatorDamping[i] = 0;</div><div class="line">                        }</div><div class="line">                        MySetTorqueActuatorDamping(ActuatorDamping);</div><div class="line"></div><div class="line">                }</div><div class="line">                <span class="keywordflow">else</span></div><div class="line">                {</div><div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;API initialization failed&quot;</span> &lt;&lt; endl;</div><div class="line">                }</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;C L O S I N G   A P I&quot;</span> &lt;&lt; endl;</div><div class="line">                result = (*MyCloseAPI)();</div><div class="line">                programResult = 1;</div><div class="line">        }</div><div class="line"></div><div class="line">        dlclose(commandLayer_handle);</div><div class="line"></div><div class="line">        <span class="keywordflow">return</span> programResult;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_39dc0668bd5a501998f94e8b4e546c71.html">media</a></li><li class="navelem"><a class="el" href="dir_3dcb450403490374dccfd9648ef0ab2b.html">eabitbol</a></li><li class="navelem"><a class="el" href="dir_ca05869e074fbe2eaa19bc6cd26fe686.html">FILE_VOLUME</a></li><li class="navelem"><a class="el" href="dir_5559387701be919b0bc8a24d1c9e4245.html">Bitbucket</a></li><li class="navelem"><a class="el" href="dir_672ea0b83a284d2a50a31f0323271bb9.html">sdk_ubuntu</a></li><li class="navelem"><a class="el" href="dir_b248890234d371253209e71bbf824974.html">API</a></li><li class="navelem"><a class="el" href="dir_2f76ad3a0ceb7532bc7fcf1188f37756.html">USBCommandLayerUbuntu</a></li><li class="navelem"><a class="el" href="dir_7f7786be023132c4dfad76e83b23a82a.html">Projects</a></li><li class="navelem"><a class="el" href="dir_3662ade3160b0f27e852abc2ca7f07df.html">Eclipse</a></li><li class="navelem"><a class="el" href="_kinova_8_a_p_i_8_usb_command_layer_ubuntu_8h.html">Kinova.API.UsbCommandLayerUbuntu.h</a></li>
    <li class="footer">Generated on Tue Jan 24 2017 13:03:49 for Kinova API Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
